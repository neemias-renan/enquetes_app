<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title>Enquetes</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'polls/style_detail.css' %}">
    <script src="{% static 'polls/js/detail.js' %}"></script>

</head>

<body>
    <main class="main">
        <form action="{% url 'polls:vote' question.id %}" method="post">
            {% csrf_token %}
            <header>
                <h1 class="title">{{ question.question_text }}</h1>
                <p class="subtitle">{{ question.pub_date }}</p>
            </header>

            <div class="div">
                <main>
                    {% if error_message %}<p class="erro"><strong>{{ error_message }}</strong></p>{% endif %}

                    {% for choice in question.choice_set.all %}
                    <div class="choice" onclick="choice({{ forloop.counter }})">
                        <input class="choicebutton" type="radio" name="choice" id="choice{{ forloop.counter }}"
                            value="{{ choice.id }}">
                        <label for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label>
                    </div>

                    {% endfor %}
                </main>

                <aside>
                    <input class="submitbutton" type="submit" value="Confirmar">
                    <div class="votes">
                        <div class="div_votes">
                            <p>votos</p>
                            <h1>{{ question.all_votes }}</h1>
                        </div>
                        <a href="{% url 'polls:index' %}">
                            <div class="div_back">
                               <p>Voltar</p>
                            </div>
                        </a>
                    </div>
                </aside>
            </div>

        </form>
    </main>
</body>

</html>